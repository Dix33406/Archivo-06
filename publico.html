<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SnapBack Foro Demo</title>
  <link rel="stylesheet" href="css/publico.css" />
</head>
<body>
  <header>SnapBack</header>

  <section class="categorias">
    <select id="filtro" onchange="filtrarCategoria(this.value)">
      <option value="">ğŸ“Œ Ver todo</option>
      <option value="Arte">ğŸ¨ Arte</option>
      <option value="MecÃ¡nica">ğŸ”§ MecÃ¡nica</option>
      <option value="PsicologÃ­a">ğŸ§  PsicologÃ­a</option>
      <option value="TecnologÃ­a">ğŸ’» TecnologÃ­a</option>
      <option value="Cocina">ğŸ³ Cocina</option>
      <option value="Estudio">ğŸ“š Estudio</option>
    </select>
  </section>

  <section id="blog">
    <div id="nueva-publicacion">
      <input type="text" id="titulo-post" placeholder="TÃ­tulo del post" />
      <textarea id="contenido-post" rows="4" placeholder="EscribÃ­ tu contenido..."></textarea>

      <div>
        <label>ğŸ“ CategorÃ­a:</label>
        <select id="categoria-post">
          <option value="">Seleccionar...</option>
          <option value="Arte">ğŸ¨ Arte</option>
          <option value="MecÃ¡nica">ğŸ”§ MecÃ¡nica</option>
          <option value="PsicologÃ­a">ğŸ§  PsicologÃ­a</option>
          <option value="TecnologÃ­a">ğŸ’» TecnologÃ­a</option>
          <option value="Cocina">ğŸ³ Cocina</option>
          <option value="Estudio">ğŸ“š Estudio</option>
        </select>
      </div>

      <input type="file" id="imagen-post" accept="image/*" />
      <button onclick="publicar()">Publicar</button>
    </div>
    <div id="blog-posts"></div>
  </section>

  <button id="logout-btn" onclick="cerrarSesion()">Cerrar sesiÃ³n</button>

  <!-- ğŸ“¡ Chat SnapBack -->
  <div id="chat-float" class="minimizado">
    <div id="chat-header">
      <span>ğŸ’¬ Chat SnapBack</span>
      <button id="toggle-chat">ğŸ”¼</button>
    </div>
    <div id="chat-mensajes"></div>
    <div id="chat-escribir">
      <input type="text" id="chat-input" placeholder="EscribÃ­ un mensaje..." />
      <button id="btn-enviar">Enviar</button>
    </div>
  </div>

  <script type="module" src="js/publico.js"></script>
  <script>
    // âœ… Cierre manual de sesiÃ³n
function cerrarSesion() {
  const usuario = localStorage.getItem('usuarioActual');
  if (usuario) {
    let usuarios = JSON.parse(localStorage.getItem('usuariosRegistrados')) || [];
    usuarios = usuarios.filter(u => u !== usuario);
    localStorage.setItem('usuariosRegistrados', JSON.stringify(usuarios));
  }
  localStorage.removeItem('usuarioActual');
  localStorage.removeItem('ultimaConexion');
  window.location.href = "login.html";
}
  </script>
</body>
</html>
